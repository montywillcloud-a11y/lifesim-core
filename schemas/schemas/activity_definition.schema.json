{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "lifesim://schemas/activity_definition.schema.json",
  "title": "ActivityDefinition",
  "type": "object",
  "additionalProperties": false,
  "required": ["id","name","category","durationMinutes","requirements","effects"],
  "properties": {
    "id": { "type": "string", "pattern": "^[A-Z0-9_]{3,64}$" },
    "name": { "type": "string", "minLength": 1, "maxLength": 40 },
    "category": { "type": "string", "enum": ["UNIVERSAL","CAREER","HEALTH","SOCIAL","MONEY","FUN"] },
    "tags": { "type": "array", "items": { "type": "string" }, "uniqueItems": true },
    "durationMinutes": { "type": "integer", "minimum": 5, "maximum": 1440 },
    "requirements": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "minNeeds": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "hunger": { "type": "number", "minimum": 0, "maximum": 200 },
            "energy": { "type": "number", "minimum": 0, "maximum": 200 },
            "happiness": { "type": "number", "minimum": 0, "maximum": 200 },
            "health": { "type": "number", "minimum": 0, "maximum": 200 },
            "social": { "type": "number", "minimum": 0, "maximum": 200 }
          }
        },
        "minMoney": { "type": "integer", "minimum": 0 },
        "career": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "careerId": { "type": "string" },
            "minCareerLevel": { "type": "integer","minimum": 0 },
            "minTier": { "type": "string","enum": ["NONE","UNKNOWN","LOCAL","NATIONAL","GLOBAL","LEGENDARY"] }
          }
        },
        "minSkillLevels": { "type": "object","additionalProperties": { "type": "integer","minimum": 0,"maximum": 100 } }
      }
    },
    "effects": {
      "type": "object",
      "additionalProperties": false,
      "required": ["needsDelta","moneyDelta","fameDelta","reputationDelta","skillXp","careerXp"],
      "properties": {
        "needsDelta": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "hunger": { "type": "number","minimum": -200,"maximum": 200 },
            "energy": { "type": "number","minimum": -200,"maximum": 200 },
            "happiness": { "type": "number","minimum": -200,"maximum": 200 },
            "health": { "type": "number","minimum": -200,"maximum": 200 },
            "social": { "type": "number","minimum": -200,"maximum": 200 }
          }
        },
        "moneyDelta": { "type": "integer","minimum": -1000000,"maximum": 1000000 },
        "fameDelta": { "type": "integer","minimum": -1000000,"maximum": 1000000 },
        "reputationDelta": { "type": "integer","minimum": -100,"maximum": 100 },
        "skillXp": { "type": "object","additionalProperties": { "type": "integer","minimum": 0,"maximum": 100000 } },
        "careerXp": { "type": "integer","minimum": 0,"maximum": 100000 },
        "randomEvents": {
          "type": "array",
          "items": { "type": "object","required": ["eventId","chance"],"properties": { "eventId": { "type": "string" }, "chance": { "type": "number","minimum": 0,"maximum": 1 } } }
        }
      }
    }
  }
}
